(this.webpackJsonpstudioreact=this.webpackJsonpstudioreact||[]).push([[0],{47:function(e,t,a){},48:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(16),i=a.n(c),r=(a(47),a(14)),l=(a(32),a(63)),o=a(64),j=a(35),d=a(65),u=a(67),b=a(66),m=a(34),x=(a(48),a.p+"static/media/studio.414338a1.svg"),h=a(2),O=function(e){var t=Object(s.useState)(""),a=Object(r.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(""),l=Object(r.a)(i,2),m=l[0],x=l[1],O=function(){c(""),x(""),e.handleClose()};return Object(h.jsxs)(d.a,{show:e.show,onHide:O,children:[Object(h.jsx)(d.a.Header,{className:"modal-full",children:Object(h.jsxs)(d.a.Title,{className:"modal-title gradient-text ",children:["Log ",e.user?"out?":"in"]})}),e.user?Object(h.jsxs)(d.a.Footer,{className:"modal-foot",children:[Object(h.jsx)(u.a,{onClick:O,className:"modal-text close-btn",children:"Chiudi"}),Object(h.jsx)(u.a,{className:"modal-text submit-btn",variant:"primary",onClick:function(){return e.auth.signOut()},children:"Log out"})]}):Object(h.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),c((function(e){return e.trim()}));var a=!1;e.auth.signInWithEmailAndPassword(n,m).catch((function(){a=!0,console.log("failed login")})),c(""),x(""),a||e.handleClose()},children:[Object(h.jsxs)(d.a.Body,{className:"modal-full",children:[Object(h.jsxs)(b.a.Group,{as:o.a,controlId:"formPlaintextEmail",children:[Object(h.jsx)(b.a.Label,{column:!0,sm:"2",className:"modal-text",children:"Email"}),Object(h.jsx)(j.a,{sm:"10",children:Object(h.jsx)(b.a.Control,{className:"round-input-box",type:"text",value:n,onChange:function(e){return c(e.target.value)},required:!0})})]}),Object(h.jsxs)(b.a.Group,{as:o.a,controlId:"formPlaintextPassword",children:[Object(h.jsx)(b.a.Label,{column:!0,sm:"2",className:"modal-text",children:"Password"}),Object(h.jsx)(j.a,{sm:"10",children:Object(h.jsx)(b.a.Control,{className:"round-input-box",type:"password",placeholder:"Password",value:m,onChange:function(e){return x(e.target.value)},required:!0})})]})]}),Object(h.jsxs)(d.a.Footer,{className:"modal-foot",children:[Object(h.jsx)(u.a,{onClick:O,className:"modal-text close-btn",children:"Chiudi"}),Object(h.jsx)(u.a,{type:"submit",className:"modal-text submit-btn",children:"Log in"})]})]})]})},f=function(e){var t=Object(m.useMediaQuery)({query:"(max-width: 767px)"}),a=Object(s.useState)(!1),n=Object(r.a)(a,2),c=n[0],i=n[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.a,{fluid:!0,className:"header-nav",children:Object(h.jsxs)(o.a,{children:[Object(h.jsxs)(j.a,{md:5,className:"d-flex align-items-center justify-content-center logo",children:[Object(h.jsx)("img",{src:x,alt:"",id:"page-logo"}),Object(h.jsx)("h3",{id:"studio",children:"STUDIO"}),Object(h.jsx)("h3",{id:"medico",className:"gradient-text",children:"MEDICO"})]}),t?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{md:1,className:"d-flex align-items-center justify-content-center",children:Object(h.jsx)("h5",{className:"navlinks",children:"Home"})}),Object(h.jsx)(j.a,{md:1,className:"d-flex align-items-center justify-content-center",children:Object(h.jsx)("h5",{className:"navlinks",children:"Contatti"})}),Object(h.jsx)(j.a,{md:1,className:"d-flex align-items-center justify-content-center",children:Object(h.jsx)("h5",{className:"navlinks",children:"Orari"})})]}),Object(h.jsx)(j.a,{children:Object(h.jsx)("h3",{className:"d-flex align-items-center justify-content-center signature",onClick:function(){return i(!0)},children:"Dott.ssa Ceo Grazia"})})]})}),Object(h.jsx)(O,{show:c,handleClose:function(){return i(!1)},auth:e.auth,user:e.user})]})},g=a(21),v=a.n(g),p=a(28),N=a(68),C=a(38),y=a(29),w=a(31),F=(a(56),a(17)),k=a(30),S=a.n(k),I=function(e){var t=e.avviso,a=t.text,s=t.title,n=t.date,c=function(){var t=Object(p.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.avvisiRef.doc("avvisi").update({list:F.a.firestore.FieldValue.arrayRemove({date:n,title:s,text:a})});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)(o.a,{children:Object(h.jsx)(j.a,{md:12,children:Object(h.jsx)(N.a,{className:"card-custom",children:Object(h.jsxs)(N.a.Body,{children:[Object(h.jsx)(N.a.Title,{className:"c-title",children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(j.a,{sm:e.user?10:12,children:s}),e.user&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{sm:1,children:Object(h.jsx)(y.a,{icon:w.b,onClick:c,className:"icon-trash"})})})]})}),Object(h.jsx)(N.a.Subtitle,{className:"mb-2 text-muted c-subtitle",children:n&&S()(1e3*n.seconds).format("DD/MM/YYYY")}),Object(h.jsx)(N.a.Text,{className:"c-text",children:a})]})})})})]})},P=function(e){var t=Object(s.useState)(""),a=Object(r.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(""),l=Object(r.a)(i,2),m=l[0],x=l[1],O=function(){var t=Object(p.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.avvisiRef.doc("avvisi").update({list:F.a.firestore.FieldValue.arrayUnion({date:new F.a.firestore.Timestamp(S()().unix(),0),title:n,text:m})});case 3:f();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){x(""),c(""),e.handleClose()};return Object(h.jsxs)(d.a,{size:"lg",show:e.show,onHide:f,children:[Object(h.jsx)(d.a.Header,{className:"modal-full",children:Object(h.jsx)(d.a.Title,{className:"modal-title gradient-text ",children:"Aggiungi un avviso"})}),Object(h.jsxs)(b.a,{onSubmit:O,children:[Object(h.jsxs)(d.a.Body,{className:"modal-full",children:[Object(h.jsxs)(b.a.Group,{as:o.a,controlId:"formPlaintextEmail",children:[Object(h.jsx)(b.a.Label,{column:!0,sm:"2",className:"modal-text",children:"Titolo"}),Object(h.jsx)(j.a,{sm:"10",children:Object(h.jsx)(b.a.Control,{className:"round-input-box",type:"text",value:n,onChange:function(e){return c(e.target.value)},required:!0})})]}),Object(h.jsxs)(b.a.Group,{as:o.a,controlId:"formPlaintextPassword",children:[Object(h.jsx)(b.a.Label,{column:!0,sm:"2",className:"modal-text",children:"Testo"}),Object(h.jsx)(j.a,{sm:"10",children:Object(h.jsx)(b.a.Control,{as:"textarea",rows:6,className:"round-input-box",value:m,onChange:function(e){return x(e.target.value)},required:!0})})]})]}),Object(h.jsxs)(d.a.Footer,{className:"modal-foot",children:[Object(h.jsx)(u.a,{onClick:f,className:"modal-text close-btn",children:"Chiudi"}),Object(h.jsx)(u.a,{type:"submit",className:"modal-text submit-btn",children:"Aggiungi"})]})]})]})},D=function(e){var t=e.firestore,a=t.collection("aggregati"),n=a.limit(1),c=Object(C.a)(n,{idField:"id"}),i=Object(r.a)(c,1)[0];if(i){i=i[0].list;var o=0;(i=i.map((function(e){return{id:o++,date:e.date,title:e.title,text:e.text}}))).sort((function(e,t){return e.date<t.date?1:-1}))}var j=Object(s.useState)(!1),d=Object(r.a)(j,2),u=d[0],b=d[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(l.a,{children:[Object(h.jsx)("br",{}),Object(h.jsxs)("h1",{className:"gradient-text",children:["Avvisi ",e.user&&Object(h.jsx)(y.a,{icon:w.a,className:"icon-add",onClick:function(){return b(!0)}})]}),i&&i.map((function(t){return Object(h.jsx)(I,{avviso:t,user:e.user,avvisiRef:a},t.id)})),Object(h.jsx)("br",{})]}),e.user&&Object(h.jsx)(P,{avvisi:i,firestore:t,auth:e.auth,avvisiRef:a,show:u,handleClose:function(){return b(!1)}})]})},L=(a(57),a(61),a(58),a(40));F.a.initializeApp({apiKey:"AIzaSyDmjGsK5060pPJhOapJ8ioCVf_l3-zLMGA",authDomain:"studio-annunci.firebaseapp.com",projectId:"studio-annunci",storageBucket:"studio-annunci.appspot.com",messagingSenderId:"461022172426",appId:"1:461022172426:web:de51657a1acbaf28a716f3"});var T=F.a.auth(),A=F.a.firestore(),G=function(){var e=Object(L.a)(T),t=Object(r.a)(e,1)[0];return Object(h.jsxs)("body",{children:[Object(h.jsx)(f,{user:t,auth:T}),Object(h.jsx)(D,{user:t,auth:T,firestore:A})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(G,{})}),document.getElementById("root")),B()}},[[60,1,2]]]);
//# sourceMappingURL=main.7ca3632e.chunk.js.map